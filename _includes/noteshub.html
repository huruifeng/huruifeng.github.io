<main class="container max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Hero Section -->
    <section class="mb-12 text-center">
      <p class="mx-auto mb-8 max-w-2xl text-gray-500 dark:text-gray-400">
        Here, you’ll find a collection of tutorials I’ve created, covering topics such as Python programming, machine learning, and bioinformatics.
      </p>
      <p class="mx-auto mb-8 max-w-2xl text-gray-500 dark:text-gray-400">
        Choose a topic and start learning! Find what can help you succeed.
      </p>
      <div class="mx-auto flex max-w-md items-center space-x-2">
        <div class="relative flex-grow">
          <input type="text" id="search-input" placeholder="Search Notes..." class="h-10 w-full rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 px-3 py-2 text-sm placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400">
        </div>
        <button type="button" class="inline-flex h-10 w-10 items-center justify-center rounded-md border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 p-2 text-gray-400 dark:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 hover:text-gray-500 dark:hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
            <circle cx="11" cy="11" r="8"></circle>
            <line x1="21" x2="16.65" y1="21" y2="16.65"></line>
          </svg>
          <span class="sr-only">Search</span>
        </button>
      </div>
    </section>

    <!-- Tutorials Section -->
    <section>
      <div class="mb-8">
        <div class="inline-flex h-10 items-center justify-center rounded-md bg-gray-100 dark:bg-gray-800 p-1 text-gray-500 dark:text-gray-400 mx-auto">
          <button type="button" class="tab-trigger inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white dark:ring-offset-gray-950 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-blue-400 bg-white dark:bg-gray-950 text-gray-900 dark:text-gray-100 shadow-sm" data-tab="all">全部</button>
          <button type="button" class="tab-trigger inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white dark:ring-offset-gray-950 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-blue-400" data-tab="programming">编程</button>
          <button type="button" class="tab-trigger inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white dark:ring-offset-gray-950 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-blue-400" data-tab="ml">机器学习</button>
          <button type="button" class="tab-trigger inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white dark:ring-offset-gray-950 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2 dark:focus-visible:ring-blue-400" data-tab="bioinformatics">生物信息学</button>
        </div>
        
        <div class="tab-content mt-6" id="tab-all">
          <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3" id="all-tutorials">
            <!-- Tutorial cards will be inserted here by JavaScript -->
          </div>
        </div>
        
        <div class="tab-content mt-6 hidden" id="tab-programming">
          <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3" id="programming-tutorials">
            <!-- Programming tutorials will be inserted here by JavaScript -->
          </div>
        </div>
        
        <div class="tab-content mt-6 hidden" id="tab-ml">
          <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3" id="ml-tutorials">
            <!-- ML tutorials will be inserted here by JavaScript -->
          </div>
        </div>
        
        <div class="tab-content mt-6 hidden" id="tab-bioinformatics">
          <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3" id="bioinformatics-tutorials">
            <!-- Bioinformatics tutorials will be inserted here by JavaScript -->
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Tutorial data - replace with your actual tutorials
    const tutorials = [
      {
        id: 1,
        title: "Python 编程基础",
        description: "从零开始学习Python编程语言的基础知识",
        category: "programming",
        level: "beginner",
        image: "assets/image/placeholder.svg",
        url: "/tutorials/python-basics",
      },
      {
        id: 2,
        title: "机器学习笔记",
        description: "机器学习的基本概念和算法介绍",
        category: "ml",
        level: "intermediate",
        image: "assets/image/placeholder.svg",
        url: "/ml_notes",
      },
      {
        id: 3,
        title: "深度学习笔记",
        description: "神经网络和深度学习的基本原理",
        category: "ml",
        level: "intermediate",
        image: "assets/image/placeholder.svg",
        url: "/tutorials/deep-learning-basics",
      },
      {
        id: 4,
        title: "生物信息笔记",
        description: "生物信息学分析的实用技巧和方法",
        category: "bioinformatics",
        level: "advanced",
        image: "assets/image/placeholder.svg",
        url: "/tutorials/bioinformatics-tips",
      },
      {
        id: 5,
        title: "数据可视化笔记",
        description: "使用Python进行数据可视化的方法和工具",
        category: "programming",
        level: "intermediate",
        image: "assets/image/placeholder.svg",
        url: "/tutorials/data-visualization",
      },
      {
        id: 6,
        title: "基因组数据分析笔记",
        description: "基因组数据处理和分析的方法",
        category: "bioinformatics",
        level: "advanced",
        image: "assets/image/placeholder.svg",
        url: "/tutorials/genomic-analysis",
      },
    ];

    // Map of level to color
    const levelColors = {
      beginner: "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100",
      intermediate: "bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100",
      advanced: "bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-100",
    };

    // Map of level to Chinese text
    const levelText = {
      beginner: "初级",
      intermediate: "中级",
      advanced: "高级",
    };

    // Map of category to Chinese text
    const categoryText = {
      programming: "编程",
      ml: "机器学习",
      bioinformatics: "生物信息学",
    };

    // Function to create a tutorial card
    function createTutorialCard(tutorial) {
      return `
        <div class="overflow-hidden rounded-lg border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-950 shadow-sm transition-all hover:shadow-md">
          <a href="${tutorial.url}" class="block" target="_blank">
            <div class="relative h-48 w-full overflow-hidden">
              <img
                src="${tutorial.image}"
                alt="${tutorial.title}"
                class="h-full w-full object-cover transition-transform hover:scale-105"
              />
            </div>
            <div class="p-4">
              <div class="flex items-center justify-between">
                <span class="inline-flex items-center rounded-full border border-gray-200 dark:border-gray-800 px-2.5 py-0.5 text-xs font-medium">
                  ${categoryText[tutorial.category]}
                </span>
                <span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${levelColors[tutorial.level]}">
                  ${levelText[tutorial.level]}
                </span>
              </div>
              <h3 class="mt-2 text-xl font-semibold">${tutorial.title}</h3>
              <p class="mt-2 text-gray-500 dark:text-gray-400">${tutorial.description}</p>
            </div>
            <div class="border-t bg-gray-50 dark:bg-gray-900 px-6 py-3">
              <span class="text-sm font-medium text-blue-600 dark:text-blue-400">查看教程 →</span>
            </div>
          </a>
        </div>
      `;
    }

    // Function to populate tutorial cards
    function populateTutorials() {
      // Populate all tutorials
      const allTutorialsContainer = document.getElementById('all-tutorials');
      allTutorialsContainer.innerHTML = tutorials.map(tutorial => createTutorialCard(tutorial)).join('');

      // Populate programming tutorials
      const programmingTutorialsContainer = document.getElementById('programming-tutorials');
      programmingTutorialsContainer.innerHTML = tutorials
        .filter(tutorial => tutorial.category === 'programming')
        .map(tutorial => createTutorialCard(tutorial))
        .join('');

      // Populate ML tutorials
      const mlTutorialsContainer = document.getElementById('ml-tutorials');
      mlTutorialsContainer.innerHTML = tutorials
        .filter(tutorial => tutorial.category === 'ml')
        .map(tutorial => createTutorialCard(tutorial))
        .join('');

      // Populate bioinformatics tutorials
      const bioinformaticsTutorialsContainer = document.getElementById('bioinformatics-tutorials');
      bioinformaticsTutorialsContainer.innerHTML = tutorials
        .filter(tutorial => tutorial.category === 'bioinformatics')
        .map(tutorial => createTutorialCard(tutorial))
        .join('');
    }

    // Function to handle tab switching
    function setupTabs() {
      const tabTriggers = document.querySelectorAll('.tab-trigger');
      const tabContents = document.querySelectorAll('.tab-content');

      tabTriggers.forEach(trigger => {
        trigger.addEventListener('click', () => {
          // Remove active class from all triggers
          tabTriggers.forEach(t => {
            t.classList.remove('bg-white', 'dark:bg-gray-950', 'text-gray-900', 'dark:text-gray-100', 'shadow-sm');
          });

          // Add active class to clicked trigger
          trigger.classList.add('bg-white', 'dark:bg-gray-950', 'text-gray-900', 'dark:text-gray-100', 'shadow-sm');

          // Hide all tab contents
          tabContents.forEach(content => {
            content.classList.add('hidden');
          });

          // Show the corresponding tab content
          const tabId = trigger.getAttribute('data-tab');
          document.getElementById(`tab-${tabId}`).classList.remove('hidden');
        });
      });
    }

    // Function to handle search
    function setupSearch() {
      const searchInput = document.getElementById('search-input');
      
      searchInput.addEventListener('input', () => {
        const searchTerm = searchInput.value.toLowerCase();
        
        // Filter tutorials based on search term
        const filteredTutorials = tutorials.filter(tutorial => 
          tutorial.title.toLowerCase().includes(searchTerm) || 
          tutorial.description.toLowerCase().includes(searchTerm)
        );
        
        // Update all tutorials tab with filtered results
        const allTutorialsContainer = document.getElementById('all-tutorials');
        allTutorialsContainer.innerHTML = filteredTutorials.map(tutorial => createTutorialCard(tutorial)).join('');
        
        // Update programming tutorials tab with filtered results
        const programmingTutorialsContainer = document.getElementById('programming-tutorials');
        programmingTutorialsContainer.innerHTML = filteredTutorials
          .filter(tutorial => tutorial.category === 'programming')
          .map(tutorial => createTutorialCard(tutorial))
          .join('');
        
        // Update ML tutorials tab with filtered results
        const mlTutorialsContainer = document.getElementById('ml-tutorials');
        mlTutorialsContainer.innerHTML = filteredTutorials
          .filter(tutorial => tutorial.category === 'ml')
          .map(tutorial => createTutorialCard(tutorial))
          .join('');
        
        // Update bioinformatics tutorials tab with filtered results
        const bioinformaticsTutorialsContainer = document.getElementById('bioinformatics-tutorials');
        bioinformaticsTutorialsContainer.innerHTML = filteredTutorials
          .filter(tutorial => tutorial.category === 'bioinformatics')
          .map(tutorial => createTutorialCard(tutorial))
          .join('');
      });
    }

    // Initialize everything when the DOM is loaded
    document.addEventListener('DOMContentLoaded', () => {
      populateTutorials();
      setupTabs();
      setupSearch();
    });

  </script>
